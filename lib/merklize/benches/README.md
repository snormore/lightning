# Merklize Benchmarks

## Usage

```sh
cd lib/merklize
cargo bench
```

## Results

```log
test bench_application_commit_changes_rocksdb_baseline_complex      ... bench:   4,495,377.10 ns/iter (+/- 304,284.75)
test bench_application_commit_changes_rocksdb_baseline_medium       ... bench:     197,450.00 ns/iter (+/- 18,677.91)
test bench_application_commit_changes_rocksdb_baseline_simple       ... bench:      15,473.06 ns/iter (+/- 1,014.00)
test bench_application_commit_changes_rocksdb_jmt_blake3_complex    ... bench:   4,634,047.90 ns/iter (+/- 371,094.23)
test bench_application_commit_changes_rocksdb_jmt_blake3_medium     ... bench:     226,612.50 ns/iter (+/- 3,114.36)
test bench_application_commit_changes_rocksdb_jmt_blake3_simple     ... bench:      47,295.57 ns/iter (+/- 788.54)
test bench_application_commit_changes_rocksdb_jmt_keccak256_complex ... bench:   4,450,975.00 ns/iter (+/- 246,825.98)
test bench_application_commit_changes_rocksdb_jmt_keccak256_medium  ... bench:     233,585.40 ns/iter (+/- 17,955.07)
test bench_application_commit_changes_rocksdb_jmt_keccak256_simple  ... bench:      47,707.04 ns/iter (+/- 2,471.19)
test bench_application_commit_changes_rocksdb_jmt_sha256_complex    ... bench:   4,564,470.85 ns/iter (+/- 292,796.02)
test bench_application_commit_changes_rocksdb_jmt_sha256_medium     ... bench:     238,363.58 ns/iter (+/- 5,046.67)
test bench_application_commit_changes_rocksdb_jmt_sha256_simple     ... bench:      51,599.47 ns/iter (+/- 1,542.11)
test bench_application_commit_changes_rocksdb_mpt_blake3_complex    ... bench:   4,561,554.15 ns/iter (+/- 360,876.04)
test bench_application_commit_changes_rocksdb_mpt_blake3_medium     ... bench:     231,877.10 ns/iter (+/- 6,191.41)
test bench_application_commit_changes_rocksdb_mpt_blake3_simple     ... bench:      56,787.76 ns/iter (+/- 6,674.01)
test bench_application_commit_changes_rocksdb_mpt_keccak256_complex ... bench:   4,435,941.65 ns/iter (+/- 356,199.81)
test bench_application_commit_changes_rocksdb_mpt_keccak256_medium  ... bench:     233,894.27 ns/iter (+/- 8,746.98)
test bench_application_commit_changes_rocksdb_mpt_keccak256_simple  ... bench:      55,566.04 ns/iter (+/- 7,340.33)
test bench_application_commit_changes_rocksdb_mpt_sha256_complex    ... bench:   4,526,468.75 ns/iter (+/- 369,029.94)
test bench_application_commit_changes_rocksdb_mpt_sha256_medium     ... bench:     231,012.50 ns/iter (+/- 5,966.93)
test bench_application_commit_changes_rocksdb_mpt_sha256_simple     ... bench:      57,182.55 ns/iter (+/- 9,030.40)

test bench_generic_commit_changes_rocksdb_baseline_complex      ... bench:   1,583,481.25 ns/iter (+/- 294,376.16)
test bench_generic_commit_changes_rocksdb_baseline_medium       ... bench:     159,740.94 ns/iter (+/- 24,001.39)
test bench_generic_commit_changes_rocksdb_baseline_simple       ... bench:      17,686.09 ns/iter (+/- 1,748.93)
test bench_generic_commit_changes_rocksdb_jmt_blake3_complex    ... bench:   1,717,569.80 ns/iter (+/- 279,747.35)
test bench_generic_commit_changes_rocksdb_jmt_blake3_medium     ... bench:     169,556.25 ns/iter (+/- 12,512.98)
test bench_generic_commit_changes_rocksdb_jmt_blake3_simple     ... bench:      29,522.57 ns/iter (+/- 2,014.90)
test bench_generic_commit_changes_rocksdb_jmt_keccak256_complex ... bench:   1,730,360.43 ns/iter (+/- 1,637,974.20)
test bench_generic_commit_changes_rocksdb_jmt_keccak256_medium  ... bench:     172,701.05 ns/iter (+/- 7,067.31)
test bench_generic_commit_changes_rocksdb_jmt_keccak256_simple  ... bench:      29,255.10 ns/iter (+/- 1,946.25)
test bench_generic_commit_changes_rocksdb_jmt_sha256_complex    ... bench:   1,702,126.05 ns/iter (+/- 256,023.22)
test bench_generic_commit_changes_rocksdb_jmt_sha256_medium     ... bench:     177,226.02 ns/iter (+/- 11,562.10)
test bench_generic_commit_changes_rocksdb_jmt_sha256_simple     ... bench:      31,516.07 ns/iter (+/- 1,969.80)
test bench_generic_commit_changes_rocksdb_mpt_blake3_complex    ... bench:   3,673,060.35 ns/iter (+/- 161,709.51)
test bench_generic_commit_changes_rocksdb_mpt_blake3_medium     ... bench:     332,905.22 ns/iter (+/- 16,667.61)
test bench_generic_commit_changes_rocksdb_mpt_blake3_simple     ... bench:      33,532.05 ns/iter (+/- 2,326.39)
test bench_generic_commit_changes_rocksdb_mpt_keccak256_complex ... bench:   3,776,441.70 ns/iter (+/- 287,275.00)
test bench_generic_commit_changes_rocksdb_mpt_keccak256_medium  ... bench:     336,457.30 ns/iter (+/- 14,077.95)
test bench_generic_commit_changes_rocksdb_mpt_keccak256_simple  ... bench:      38,407.71 ns/iter (+/- 1,151.92)
test bench_generic_commit_changes_rocksdb_mpt_sha256_complex    ... bench:   3,772,352.10 ns/iter (+/- 236,041.44)
test bench_generic_commit_changes_rocksdb_mpt_sha256_medium     ... bench:     342,240.62 ns/iter (+/- 14,723.41)
test bench_generic_commit_changes_rocksdb_mpt_sha256_simple     ... bench:      37,538.64 ns/iter (+/- 773.41)

test bench_generic_generate_proof_rocksdb_jmt_blake3_complex    ... bench:      26,358.83 ns/iter (+/- 522.79)
test bench_generic_generate_proof_rocksdb_jmt_blake3_medium     ... bench:      16,849.48 ns/iter (+/- 817.75)
test bench_generic_generate_proof_rocksdb_jmt_blake3_simple     ... bench:       8,769.98 ns/iter (+/- 141.85)
test bench_generic_generate_proof_rocksdb_jmt_keccak256_complex ... bench:      29,172.94 ns/iter (+/- 812.37)
test bench_generic_generate_proof_rocksdb_jmt_keccak256_medium  ... bench:      18,294.18 ns/iter (+/- 392.06)
test bench_generic_generate_proof_rocksdb_jmt_keccak256_simple  ... bench:      10,261.86 ns/iter (+/- 563.46)
test bench_generic_generate_proof_rocksdb_jmt_sha256_complex    ... bench:      34,061.07 ns/iter (+/- 975.07)
test bench_generic_generate_proof_rocksdb_jmt_sha256_medium     ... bench:      20,735.04 ns/iter (+/- 505.28)
test bench_generic_generate_proof_rocksdb_jmt_sha256_simple     ... bench:      11,074.01 ns/iter (+/- 348.14)
test bench_generic_generate_proof_rocksdb_mpt_blake3_complex    ... bench:       9,416.01 ns/iter (+/- 452.21)
test bench_generic_generate_proof_rocksdb_mpt_blake3_medium     ... bench:       6,963.38 ns/iter (+/- 275.32)
test bench_generic_generate_proof_rocksdb_mpt_blake3_simple     ... bench:       4,577.97 ns/iter (+/- 100.34)
test bench_generic_generate_proof_rocksdb_mpt_keccak256_complex ... bench:       9,637.57 ns/iter (+/- 453.01)
test bench_generic_generate_proof_rocksdb_mpt_keccak256_medium  ... bench:       7,299.68 ns/iter (+/- 264.47)
test bench_generic_generate_proof_rocksdb_mpt_keccak256_simple  ... bench:       5,116.34 ns/iter (+/- 154.72)
test bench_generic_generate_proof_rocksdb_mpt_sha256_complex    ... bench:       9,762.72 ns/iter (+/- 728.93)
test bench_generic_generate_proof_rocksdb_mpt_sha256_medium     ... bench:       7,140.58 ns/iter (+/- 282.71)
test bench_generic_generate_proof_rocksdb_mpt_sha256_simple     ... bench:       5,037.96 ns/iter (+/- 119.94)

test bench_generic_get_state_root_rocksdb_jmt_blake3_complex    ... bench:       5,255.99 ns/iter (+/- 91.58)
test bench_generic_get_state_root_rocksdb_jmt_blake3_medium     ... bench:       5,187.84 ns/iter (+/- 79.80)
test bench_generic_get_state_root_rocksdb_jmt_blake3_simple     ... bench:       3,732.15 ns/iter (+/- 110.30)
test bench_generic_get_state_root_rocksdb_jmt_keccak256_complex ... bench:       6,020.09 ns/iter (+/- 49.65)
test bench_generic_get_state_root_rocksdb_jmt_keccak256_medium  ... bench:       5,970.90 ns/iter (+/- 153.89)
test bench_generic_get_state_root_rocksdb_jmt_keccak256_simple  ... bench:       3,896.48 ns/iter (+/- 61.96)
test bench_generic_get_state_root_rocksdb_jmt_sha256_complex    ... bench:       7,846.76 ns/iter (+/- 338.75)
test bench_generic_get_state_root_rocksdb_jmt_sha256_medium     ... bench:       7,803.69 ns/iter (+/- 250.17)
test bench_generic_get_state_root_rocksdb_jmt_sha256_simple     ... bench:       5,273.21 ns/iter (+/- 82.04)
test bench_generic_get_state_root_rocksdb_mpt_blake3_complex    ... bench:         678.58 ns/iter (+/- 27.01)
test bench_generic_get_state_root_rocksdb_mpt_blake3_medium     ... bench:         688.73 ns/iter (+/- 32.33)
test bench_generic_get_state_root_rocksdb_mpt_blake3_simple     ... bench:         687.83 ns/iter (+/- 30.41)
test bench_generic_get_state_root_rocksdb_mpt_keccak256_complex ... bench:         692.16 ns/iter (+/- 17.59)
test bench_generic_get_state_root_rocksdb_mpt_keccak256_medium  ... bench:         712.64 ns/iter (+/- 45.60)
test bench_generic_get_state_root_rocksdb_mpt_keccak256_simple  ... bench:         664.12 ns/iter (+/- 5.44)
test bench_generic_get_state_root_rocksdb_mpt_sha256_complex    ... bench:         685.53 ns/iter (+/- 24.64)
test bench_generic_get_state_root_rocksdb_mpt_sha256_medium     ... bench:         705.08 ns/iter (+/- 42.52)
test bench_generic_get_state_root_rocksdb_mpt_sha256_simple     ... bench:         686.31 ns/iter (+/- 21.49)

test bench_generic_verify_proof_rocksdb_jmt_blake3_complex    ... bench:       4,793.80 ns/iter (+/- 307.13)
test bench_generic_verify_proof_rocksdb_jmt_blake3_medium     ... bench:       3,767.64 ns/iter (+/- 477.74)
test bench_generic_verify_proof_rocksdb_jmt_blake3_simple     ... bench:       2,431.10 ns/iter (+/- 174.82)
test bench_generic_verify_proof_rocksdb_jmt_keccak256_complex ... bench:       6,433.48 ns/iter (+/- 787.11)
test bench_generic_verify_proof_rocksdb_jmt_keccak256_medium  ... bench:       4,816.96 ns/iter (+/- 359.23)
test bench_generic_verify_proof_rocksdb_jmt_keccak256_simple  ... bench:       3,750.05 ns/iter (+/- 284.34)
test bench_generic_verify_proof_rocksdb_jmt_sha256_complex    ... bench:       7,799.73 ns/iter (+/- 360.82)
test bench_generic_verify_proof_rocksdb_jmt_sha256_medium     ... bench:       5,935.63 ns/iter (+/- 139.57)
test bench_generic_verify_proof_rocksdb_jmt_sha256_simple     ... bench:       4,581.17 ns/iter (+/- 127.44)
test bench_generic_verify_proof_rocksdb_mpt_blake3_complex    ... bench:       4,592.44 ns/iter (+/- 340.87)
test bench_generic_verify_proof_rocksdb_mpt_blake3_medium     ... bench:       3,642.87 ns/iter (+/- 120.69)
test bench_generic_verify_proof_rocksdb_mpt_blake3_simple     ... bench:       2,145.80 ns/iter (+/- 142.54)
test bench_generic_verify_proof_rocksdb_mpt_keccak256_complex ... bench:       5,741.10 ns/iter (+/- 89.25)
test bench_generic_verify_proof_rocksdb_mpt_keccak256_medium  ... bench:       4,216.94 ns/iter (+/- 105.87)
test bench_generic_verify_proof_rocksdb_mpt_keccak256_simple  ... bench:       2,733.64 ns/iter (+/- 149.77)
test bench_generic_verify_proof_rocksdb_mpt_sha256_complex    ... bench:       7,449.03 ns/iter (+/- 627.43)
test bench_generic_verify_proof_rocksdb_mpt_sha256_medium     ... bench:       5,314.65 ns/iter (+/- 96.37)
test bench_generic_verify_proof_rocksdb_mpt_sha256_simple     ... bench:       3,154.40 ns/iter (+/- 115.54)
```
